<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Slicer</title>

    <link rel="stylesheet" href="./styles/index.css">
    <link rel="stylesheet" href="./styles/sidebar.css">
    <script type="module" src="./dist/app.mjs" defer></script>
  </head>

  <body>
    <div id="viewer">
      <canvas id="stl-viewer"></canvas>

      <div id="options">
        <span>
          <input type="text" name="output-name" id="output-name" placeholder="File Name">
        </span>
      </div>
      <div id="controls">
        <div class="control" id="movement-button">
          <ion-icon name="move-outline" title="Move"></ion-icon>
        </div>
        <div class="control" id="rotate-button">
          <ion-icon name="reload-outline" title="Rotate"></ion-icon>
        </div>

        <div class="control" id="scale-button">
          <ion-icon name="resize-outline" title="Scale"></ion-icon>
        </div>
      </div>

      <div id="actions">
        <div class="left">
          <input type="file" id="stl-file" accept=".stl">
          <label for="stl-file" id="file-label">
            <ion-icon name="document-outline"></ion-icon>
          </label>
        </div>
        <div class="flex-spacer"></div>

        <div class="right">
          <div id="slice-button-container">
            <button id="slice-button">Slice</button>
          </div>
          <div id="slice-progress-container">
            <span>Slicing...</span>
            <div id="slice-progress">
              <div id="slice-progress-bar"></div>
            </div>
            <button id="cancel-button">Cancel</button>
          </div>
          <div id="slice-export-container">
            <div class="icon-row">
              <cura-icon icon-name="Clock"></cura-icon>
              <span id="gcode-time-estimate"></span>
            </div>
            <button id="export-gcode-button">Export G-code</button>
          </div>
        </div>
      </div>
    </div>

    <div id="sidebar-container">
      <div id="sidebar">
        <h3>Print Settings</h3>
        <div id="profile-selector">
          <span>Profile</span>
        </div>
        <span id="searchbar">
          <input type="text" name="setting-search" id="setting-search" placeholder="Search settings">
        </span>
        <div id="sections">
          <template id="section-template">
            <div class="section" slot="section" data-closed="true">
              <span class="section-title-container" slot="title-container">
                <span class="left">
                  <cura-icon slot="section-icon"></cura-icon>
                  <span slot="section-title">Quality</span>
                </span>
                <span class="right">
                  <ion-icon name="chevron-down-outline" class="section-status-icon"></ion-icon>
                </span>
              </span>
              <div class="settings-group" slot="settings-group"></div>
            </div>
          </template>

          <template id="setting-template">
            <div class="setting" slot="setting-container">
              <div class="setting-bar">
                <span class="setting-name" slot="setting-name">Layer Height</span>
                <span class="setting-value" slot="setting-value">
                  <input slot="value" type="text">
                  <span class="unit-text" slot="unit">mm</span>
                </span>
              </div>
            </div>
          </template>
        </div>
      </div>
    </div>

    <div id="notifications">
      <template id="notification-template">
        <div class="notification" slot="notification">
          <span class="title-bar">
            <span class="title" slot="title">Title Here</span>
            <span class="close-icon">
              <ion-icon name="close-outline" slot="close"></ion-icon>
            </span>
          </span>
          <span class="description" slot="description">Description Here</span>
        </div>
      </template>
    </div>

    <div class="fullscreen" id="drop-zone">
      <h1>Drop STL Here</h1>
    </div>

    <div class="fullscreen" id="loading">
      <div class="flex-spacer"></div>
      <p>Loading...</p>
      <div class="flex-spacer"></div>
    </div>

    <!-- todo: don't load this from a third party cdn -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js" defer></script>
  </body>
</html>
